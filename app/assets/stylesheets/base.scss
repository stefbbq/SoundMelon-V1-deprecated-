//core
//contains links and persistant/reusable elements (logo, background, footer, etc)

@import 'compass/css3'; //compass css3 mixins
@import 'compass/utilities/text/ellipsis';
@import 'mixins'; //custom mixins
@import 'vars'; //global variables

//
//core
html, body {
  padding: 0px;
  margin: 0px;
  font-family: "Trebuchet MS", arial, verdana, tahoma;
  font-size: 13px;  
	font-weight: normal;
  color: $text-color; 
	background: $footer-bg-color;
}
img { 
  border: none; 
  vertical-align: middle;
}
ul {
  margin: 0px;
  padding: 0px;
  list-style: none;
}
a {
  text-decoration: none;
  color: #fff;
  &:hover { text-decoration: none; }
}

//headings
h1 {
	font-size: 24px;
	font-weight: normal;
}
h2 {
	font-size: 18px;
	font-weight: normal;	
}
h3 {
	font-size: 14px;
	font-weight: normal;
}
h5 {
	font-size: 10px;
	color: $text-faded-color;
	font-weight: normal;
	font-family: Verdana;
}
i {
	display: inline-block;
}

//
//basic controls
.base-button { @include base-button(); }
.base-highlight-button { @include base-highlight-button(); }
.base-text-field { @include base-text-field(); }
.overlay-text-field { @include overlay-text-field(); }
.base-input-box { @include base-form-input-box(); margin: 0px; }

//
//main, base, page content
#base-container {
  background: $main-bg-color;
}
#page-container {
  background: url(base-bg.jpg) center -35px no-repeat;
	background-attachment: fixed;
  width: 100%;
}

//top background fade, in page container
#page-top-fade {
	@include linear-gradient($main-bg-color 50%, rgba($main-bg-color, 0));
	position: fixed;
	width: 100%;
	height: $page-bg-fade-height;
	z-index: 60;
}
//bottom background fade, in footer
#page-bottom-fade {
	@include linear-gradient(rgba($main-bg-color, 0), $main-bg-color);
	height: $page-bg-fade-height;
}

#page {
  margin: 0 auto;
  width: $page-width;
  position: relative;

	//
	//splash-header
	.splash-header {
		background: url(base-page-bg-shaded-flipped.jpg) !important;
		
		h2 {
			@include single-text-shadow(rgba(black, 1), 0px, 2px, 5px);
			color: $text-highlight-color;
		}
	}
	
  //
  //active header	
  #page-header {
		@include border-radius(0 0 $border-radius $border-radius);
    @include box-shadow(rgba(black, .3), 0px, 3px, 5px, 0px);
    position: fixed;
    margin: 0 auto;
    z-index: 999;
    width: $page-width;
		height: 108px;
    top: 0px;
		background: url(header-bg.png);

    > div {
      width: 100%;
      overflow: hidden;
    }

    //logo, notifications and session
    .top-bar {
      height: 52px;
			overflow: visible;

      .site-logo { float: left; width: 400px; }
      .session {
				height: 32px;
        float: right;
				padding-right: $base-content-clear;
				padding-top: 12px;
				width: 510px;
				text-align: right;
				
				> a, div {
					display: inline-block;
				}
				
				//summary, welcome note
				.summary {
					position: relative;
					top: 12px;
					right: 3px;
				}

				//replies, mentions and messages
        .notifications {
					float: right;
					
					> a {
						width: 32px;
						height: 32px;
						display: inline-block;
						position: relative;	
						
						span {
							@include border-radius(0 0 4px 0);							
							height: 10px;
							width: 11px;
							background: gray;
							position: absolute;
							right: 1px;
							bottom: 1px;
							font-size: 9px;
							color: black;
							text-align: center;
							border-top: 1px solid rgba(black, .3);
							border-left: 1px solid rgba(black, .3);
						}
						.active {
							background: $highlight-color;
						}
					}	
				}
				
				//buttons
				.button {
					margin: 0px 2px;
				}
				#logout {
          @include base-highlight-button;
          padding: 4px 8px 3px 8px;
        }
				#switch {
					@include base-highlight-button;
          padding: 4px 8px 3px 8px;
				}
      }

			.header-admin-button {
				@include base-highlight-button($generic-active-color);
				display: inline-block; 
				margin-top:	-4px !important; 
				margin-right: 5px !important; 
				float: left;
			}
    }

    //player and search
    .bottom-bar {
			height: 60px;
			overflow: visible;
			position: relative;
			top: -2px;

      .music-player {
				width: ($page-width * .75) - 25;
        display: block;
        float: left;
				margin-left: $base-content-clear;
				position: relative;
        
				//controls
				.jp-gui { width: 240px; }
				.jp-controls {
					width: 250px;
					> * {
						padding: 0px;
						display: inline-block;
					}
					
					.jp-pre, .jp-next { 
						width: 32px;
						height: 32px;
					}
					.play-pause, .jp-play, .jp-pause, .jp-play-dis {
						width: 40px;
						height: 40px;
					}
					.jp-play, .jp-pause, .jp-play-dis { display: block; }
				}
				.jp-volume-bar1 {
					@include border-radius(4px);
					@include box-shadow(rgba(white, .7), 0px, 1px, 0px);
					margin: 17px 0 9px 40px;
          width: 70px;
          height: 7px;
          background-color: gray;
				}
        .jp-volume-bar-value {
          height: 7px;
          background-color: #23B139;
					@include border-radius(4px);
        }				
				.jp-volume-bar-thumb {
					width: 16px;
					height: 16px;
					position: relative;
					top: -4px;
					cursor: pointer;
				}
				.jp-volume-marker {
					position: absolute;
					top: 23px;
					left: 129px;
				}
				
				//main info section	
				.info {
					@include border-radius($border-radius);
					position: relative;
					width: 420px;
					height: 44px;
					margin-top: 7px;
					background: rgba(black, .5);
					border: none;
	        border-bottom: solid 1px #666;
					text-align: center;					
					float: left;
					
					//album art
					img {
						@include border-radius($border-radius/2);
						@include box-shadow(rgba(black, .4), 0px, 3px, 5px);
						position: absolute;
						left: 10px;
						top: -3px;
					}
					
					//main
					.main {
						position: relative;
						left: -20px; 
						
						
					}
					
					.jp-buzz, .jp-like, .jp-rep {display: inline-block; margin: 0px -2px; }
				}
      }

	    #search {
				display: block;
	      float: right;
				margin: 17px $base-content-clear 0 0;		

	      > input {
					@include border-radius($border-radius);
		    	width: 200px;
					height: 20px;
					padding: 4px 0 0 5px;					
	        color: $text-faded-color;
	        font-size:14px;
					background: rgba(black, .5);
					border: none;
	        border-bottom: solid 1px #666;
					outline: none;
					
					&:hover, &:focus {
						color: $text-color;
					}
	      }
      }
    }
  }

  //
  //page content
  #page-content {
    padding-top: 108px;
    min-height: 300px;
		z-index: 49;

    //primary content area
		.primary-container {
			@include border-radius($border-radius);
		  @include box-shadow(rgba(black, .3), 0px, 1px, 6px);
		  background: $page-bg-color;
			
			.primary {
				@include border-radius($border-radius $border-radius 0 0);				
				background: url(base-page-bg-shaded.jpg) top center no-repeat;
	      border-top: 1px solid rgba(white, .15);
	      display: block;
	      overflow: auto;
	    }
		}
  }

  //
  //registartion form
  .registrationform{
    margin: 0 auto;
    color: $input-bg-color;
    .fields {
      label {
        padding-top:4px;
        float:left;
        width:40%;
        color:#fff;
        text-align:right;
        font-size:2*$size;
      }
      .textfield {
        @include border-radius($border-radius);
        border:solid #4D4D4D 2px;
        padding:2px;
        background:#323232;
        color:#fff;
        margin:3px 10px;
        height:20px;
        width:350px;
      }
      .actions { padding-left:70%; }
    }
  }
}

//
//search results
#results {
	.fans, .artists {
		width: 100%;
		margin: 18px 0 10px 0;
		h1 { margin-left: 10px;}
	}
	.fans h1 span { color: $fan-active-color; }
	.artists h1 span { color: $artist-active-color; }
	
	padding: 10px;
}

//
//collections
.item {
	@include generic-item();
	margin-bottom: 10px;
	display: block;
	
	//profile photo
	.avatar {
		float: left;
		img { @include border-radius($border-radius / 2); }
	}
	.avatar-small{
		img { 
			width: 50px; 
			height: 50px;
		}
	}
	.avatar-medium {
		img {
			width: 100px; 
			height: 100px;
		}
	}
	
	//name, description
	h4 { 
		margin: 0px; 
		font-weight: normal;
		strong { color: white; }
	}
	.content {
		display: inline-block;
		margin: 15px 0 0 6px;
		
		> span {
			display: block;
		}
	}
	
	//unfollow, etc
	.actions { 
		float: right;
		display: block;
		margin-top: 16px;
		
		a {	@include base-highlight-button();	}
	}
}

.item-large-square {
	@include border-radius($border-radius);
	display: inline-block;
	margin: 3px 5px 3px 5px;
	padding: 6px;
	
	&:hover { background: rgba(white, .1)}
	
	> a {
		display: block;
		img { 
			@include border-radius($border-radius);
			width: 160px; 
			height: 160px; 
		}
	}
	.content {
		width: 100%;
		height: 28px;
		margin-top: 10px; 
		
		.actions {
			float: right;
			display: inline-block;
			
			a {	@include base-highlight-button();	}
		}
		.info {
			float: left;
			
			h4, h5 { 
				margin: 0px;
				font-weight: normal; 
			}
			
			.location {
				@include ellipsis;
				display: block;
				margin-top: -1px;
				width: 90px;
			}
			
			.name a {
				@include ellipsis;
				display: inline-block;
				width: 93px;
			}
		}
	}
}

//
//footer
#footer { 
  margin-top: -($page-footer-extension + $page-bg-fade-height);

  .content {
	  background-image: url(base-footer-bg-repeat.jpg);
	
		> div {
			background-image: url(base-footer-bg.jpg);
	    width: $base-footer-content-width;
	    height: $base-footer-height;
	    margin: auto;

			a {
		    margin: 57px 18px 0px 17px;
		    text-align: center;
		    float: left;
		    width: 210px;
		    height: 150px;

		    img {
		      margin: auto;
		    }
		  }
		}
  }
}

//generic
.dimmed {opacity: .4;}

//misc
#feedback {
	text-align: right;
	display: block;
	position: fixed;
	z-index: 1000;
	top: 4px;
	right: 4px;
	width: 150px;
	height: 130px;
	font-size: 12px;
	color: #555;
	
	.date {
		color: black;
	}
	
	a {
		display: block;
		margin-top: 5px;
		color: #555;
		text-decoration: underline;
	}
}

.radiolabel { 
  @include border-radius($border-radius);
  margin: 3px 10px;
  padding: 5px 10px;
  height: 30px;
  background: #4D4D4D;
  color: #000;
  border: none;
  font-weight: bold;
}
.circle {
  background: #fff;
  width: 80px;
  height: 80px;
  -webkit-border-radius: 40px;
  -moz-border-radius: 40px;
  border-radius: 40px;
}

#contact_list {height:220px;overflow:auto;}
.recaptcha_theme_red #recaptcha_response_field {left:-4px;}

//
//sections (elements with specfic fan, artist or venue treatments)
.button-fill-fan {
	@include linear-gradient-important($fan-active-color, darken($fan-active-color, 18));
}
.button-fill-artist {
	@include linear-gradient-important($artist-active-color, darken($artist-active-color, 18));
}

//
//else
.incomplete {
	background: url(incomplete.png) center no-repeat;
	height: 200px;
	width: 100%;
	padding: 100px 0;
	text-align: center;
}
.clear { 
  clear:both !important; 
  margin:     0px !important; 
  padding:    0px !important;
  width:      0px !important;
  height:     0px !important;
}

.center{ text-align:center;}
.hide{display:none;}
.show{display:block;}
.greentext{ 
  font-size:2*$size; color:#1AD327;
  a{ color:#1AD327;}
}
.follow-img img{padding:2px;}
.edit-info{padding:10px;}
.site-logo{float:left;}
.alerts{float:left;}
.alerts{right:20px; padding-bottom:5px; font-weight:bold; font-size:14px; width:245px;
       ul{ display:block;
	       li{

			   float:left;
			   text-align:center

			   }
			a{
			   background:url(alert.jpg)no-repeat center 3px;
			   padding:8px 11px;
		     }
			 h2{font-size:14px;
			  color:#767676;
			  margin-top:5px
			 }
	   }

}